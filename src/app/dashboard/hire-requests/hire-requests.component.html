<mat-card class="p-3 shadow-sm">
  <h2 class="mb-3">Hire Requests</h2>

  @if (hireRequestsPage$ | async; as pageData) {
  <table class="table table-striped table-hover">
    <thead class="table-light">
    <tr>
      <th>#</th>
      <th>Home Owner</th>
      <th>Househelp</th>
      <th>Date Requested</th>
      <th class="text-end">Actions</th>
    </tr>
    </thead>
    <tbody>
      @for(req of pageData.content; track req.id; let i = $index ) {
        <tr>
          <td>{{ i + 1 + (pageData.number * pageData.size)}}</td>
          <td>{{ req.owner.name }}</td>
          <td>{{ req.househelp.name }}</td>
          <td>{{ req.date | date }}</td>
          <td class="text-end">
            <button mat-stroked-button color="accent" class="me-2">View</button>
            <button mat-stroked-button color="warn">Cancel</button>
          </td>
        </tr>
      }
    </tbody>
  </table>

  <mat-paginator
      [length]="pageData.totalElements"
      [pageSize]="pageData.size"
      [pageIndex]="pageData.number"
      [pageSizeOptions]="[10, 20, 50]"
      (page)="onPageChange($event)">
    </mat-paginator>
  }

</mat-card>
